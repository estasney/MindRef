#:import NoteCategories widgets.categories
#:import CategoryScreenScrollWrapper widgets.categories
#:import ScrollingListView widgets.list_view.list_view
#:import ListView widgets.list_view.list_view
#:import Note widgets.note
#:import Buttons widgets.buttons.buttons
#:import e widgets.editor.editor
#:import Toolbar widgets.toolbar
#:import LargeLabel widgets.style
#:import kivy_screen kivy.uix.screenmanager

<NoteAppScreenManager>:
    id: screen_manager
    app: app
    transition: kivy_screen.SlideTransition()
    NoteCategoryChooserScreen:
        id: chooser_screen
        name: 'chooser_screen'
    NoteCategoryScreen:
        id: note_screen_0
        name: 'note_screen_0'
    NoteCategoryScreen:
        id: note_screen_1
        name: 'note_screen_1'
    NoteListViewScreen:
        id: list_view_screen
        name: 'list_view_screen'
    NoteEditScreen:
        id: note_edit_screen
        name: 'note_edit_screen'
    ErrorMessageScreen:
        id: error_message_screen
        name: 'error_message_screen'


<NoteListViewScreen>:
    canvas:
        Color:
            rgba: app.colors['Dark']
        Rectangle:
            size: self.size
            pos: self.pos
    ScrollingListView:
        meta_notes: app.note_category_meta





<NoteCategoryChooserScreen>:
    id: category_screen
    chooser: chooser
    canvas.before:
        Color:
            rgba: app.colors['Dark']
        Rectangle:
            size: self.size
            pos: self.pos
    CategoryScreenScrollWrapper:
        screen: category_screen
        id: chooser

<NoteCategoryScreen>:
    current_note: current_note
    Note:
        id: current_note

<NoteEditScreen>:
    id: edit_screen
    note_editor: note_editor
    container: container
    canvas:
        Color:
            rgba: app.colors['Dark']
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        id: container
        NoteEditor:
            id: note_editor

<ErrorMessageScreen>:
    canvas.before:
        Color:
            rgba: app.colors['Dark']
        Rectangle:
            size: self.size
            pos: self.pos
    BoxLayout:
        orientation: 'vertical'
        Toolbar:
            size_hint_y: None
            padding: dp(20), dp(10), dp(10), dp(5)
            height: dp(50)
        LargeLabel:
            text: app.error_message
